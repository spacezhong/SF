import React,{Component} from 'react';import './index.less'import Header from "../../components/Header/index";import {connect} from "react-redux"import actions from "../../store/actions/search"import HotSearch from "./HotSearch/index";class Search extends Component{    constructor(){     super();     this.state={searchFlag:true}    }    componentDidMount(){       this.props.fetchHotSearch();    }    handleClick=()=>{        let keyWords=this.keyWords.value;        this.props.fetchSearch(keyWords);        this.keyWords.value="";    };    handleKeyDown=(e)=>{        let keyWords=this.keyWords.value;     if(e.keyCode==13){         this.props.fetchSearch(keyWords);         this.keyWords.value="";     }  };    render(){        return (            <div>                <Header push={this.props.history.push} title="搜索"/>                <div className='search-html'>                    <i className="iconfont icon-sousuo1"></i>                    <input placeholder='2018全球特色圣诞礼' ref={input=>this.keyWords=input}                           onKeyDown={this.handleKeyDown}                           type="text"/>                    <div className="search-btn" onClick={this.handleClick}>搜索</div>                </div>                <div className="hot-search">                    <div className="search-btn">                        <span                            className={this.state.searchFlag?"curr":""}                              onClick={()=>{                                  if(!this.state.searchFlag){                                      this.props.fetchHotSearch();                                      this.setState({searchFlag:true})                                  }                              }}                        >热门搜索</span>                        <span                            className={this.state.searchFlag?"":"curr"}                            onClick={()=>{                             if(this.state.searchFlag){                             this.props.fetchHistorical();                             this.setState({searchFlag:false})                         }                        }}>历史纪录</span>                    </div>                    <HotSearch                        hotSearch={this.state.searchFlag?this.props.hotSearch:this.props.historical}                        searchFlag={this.state.searchFlag}                        fetchSearch={this.props.fetchSearch}                        fetchHistorical={this.props.fetchHistorical}                    />                </div>            </div>        )    }}export default connect(    state=>state.search,    actions)(Search);